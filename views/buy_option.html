<!DOCTYPE html>
<html>
<head>
    <title>Product Details</title>
</head>
<body>
    <h1>Product Details</h1>

    <div>
        <label for="category-select">Select a Category:</label>
        <select id="category-select" onchange="updateProductList()">
            <option value="All">All Categories</option>
            <option value="Electronics">Electronics</option>
            <option value="Food">Food</option>
            <option value="Clothing">Clothing</option>
            <!-- Add more categories as needed -->
        </select>
    </div> <br>

    <div>
        <label for="product-select">Select a Product:</label>
        <select id="product-select" class="product-list">
            <!-- Product options will be populated dynamically using JavaScript -->
        </select>
    </div><br>

    <button onclick="buyProduct()">Buy</button>

    <div id="product-details">
        <!-- Product details will be displayed here -->
    </div>

    <table>
        <table border="1">
            <thead>----------
                <tr>
                    <th>1</th>
                    <th>Item</th>
                    <th>Cost</th>

                </tr>
                
               
            </thead>
            <tbody id="items-bought">
                
                <!-- Table rows for items bought will be added here -->
            </tbody>
        </table>
    </table>

    <script>
        // Sample product data
        const products = {
            Electronics: ['Laptop', 'Smartphone', 'TV'],
            Food: ['Apple', 'Chicken Breast', 'Spaghetti Pasta'],
            Clothing: ['T-shirt', 'Jeans', 'Sweater'],
        };

        function updateProductList() {
            const categorySelect = document.getElementById('category-select');
            const productSelect = document.getElementById('product-select');
            const selectedCategory = categorySelect.value;

            // Clear the current product list
            productSelect.innerHTML = '';

            // Add options based on the selected category
            if (selectedCategory === 'All') {
                productSelect.disabled = true;
            } else {
                productSelect.disabled = false;
                products[selectedCategory].forEach(product => {
                    const option = document.createElement('option');
                    option.value = product;
                    option.text = product;
                    productSelect.appendChild(option);
                });
            }
        }

        function buyProduct() {
            const productSelect = document.getElementById('product-select');
            const selectedProduct = productSelect.value;

            if (selectedProduct) {
                const productDetails = document.getElementById('product-details');
                productDetails.innerHTML = `You bought ${selectedProduct}.`;

                // Add the selected item to the table of items bought
                const itemsBoughtTable = document.getElementById('items-bought');
                const newRow = itemsBoughtTable.insertRow(-1);
                const newItemCell = newRow.insertCell(0);
                newItemCell.textContent = selectedProduct;
            }
        }

        // Initialize product list
        updateProductList();
    </script>

    <script>
        function getCategoryFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category');

            if (category) {
                // Do something with the category, e.g., display it on the page.
                document.getElementById('category').textContent = 'Category: ' + category;
            }
        }

        // Call the function to retrieve and use the category from the URL.
        getCategoryFromURL();
    </script>

    <div>
        <p id="category"></p>
        <!-- Other content related to the selected category can be added here. -->
    </div>
</body>
</html>
